<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.0" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="34e895a3fd0bee1dadbd8358d3b14d24">
<meta property="og:type" content="website">
<meta property="og:title" content="Seismology Learning">
<meta property="og:url" content="https://shizhiyuan.work/baidu_verify_codeva-0NlQJTBPs1.html">
<meta property="og:site_name" content="Seismology Learning">
<meta property="og:description" content="34e895a3fd0bee1dadbd8358d3b14d24">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-04-26T11:55:03.443Z">
<meta property="article:modified_time" content="2024-04-26T11:54:20.806Z">
<meta property="article:author" content="Shi Zhiyuan">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '6.0.0',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://shizhiyuan.work/baidu_verify_codeva-0NlQJTBPs1.html"/>





  <title>Fortran初探 | Seismology Learning</title>
  








<meta name="generator" content="Hexo 7.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Seismology Learning</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Seismology Learning Note</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://shizhiyuan.work/2023/01/23/Fortran%E5%88%9D%E6%8E%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/log.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Seismology Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Fortran初探</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-01-23T21:26:55+08:00">2023-01-23</time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>1、[Fortran权威指南&#x2F;(英)奇弗斯(Chivers,I.),(英)斯莱索尔姆(Sleightholme,J.)著；陈宝国等译.–北京：人民邮电出版社，2009.10]</p>
<p>2、<a target="_blank" rel="noopener" href="https://www.yiibai.com/fortran/fortran_basic_input_output.html">https://www.yiibai.com/fortran/fortran_basic_input_output.html</a></p>
<p>3、[Fortran 程序设计：第四版&#x2F;（美）史蒂芬·查普曼著；王志强等译.-北京：中国电力出版社，2018.10（2022.8重印）]</p>
<h1 id="基础内容"><a href="#基础内容" class="headerlink" title="基础内容"></a>基础内容</h1><p>！ 作为注释标记</p>
<h2 id="Fortran规则："><a href="#Fortran规则：" class="headerlink" title="Fortran规则："></a>Fortran规则：</h2><ul>
<li>自由源格式</li>
<li>不区分大小写</li>
<li>存在语句顺序<ul>
<li>PROGRAM</li>
<li>类型声明语句</li>
<li>处理与I&#x2F;O语句</li>
<li>END PROGRAM</li>
</ul>
</li>
<li>！用于引入注释</li>
<li>变量名称长度最多31字符，包括_</li>
<li>每行最多132个字符</li>
<li>最多可以允许39个连续行</li>
<li>如果不使用<code>IMPLICIT NONE</code>语句，则没有显式声明的变量被看成默认的类型。即：首个字符是A-H或O-Z，则默认为REAL型。若为I-N，则默认INTEGER型。</li>
</ul>
<h2 id="1、输出你的名字"><a href="#1、输出你的名字" class="headerlink" title="1、输出你的名字"></a>1、输出你的名字</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">PROGRAM ch0701      ！程序命名</span><br><span class="line">!</span><br><span class="line">! This program reads in and prints out a name</span><br><span class="line">!</span><br><span class="line">IMPLICIT NONE   ！ 表示使用的每个数据项的类型必须是显式的</span><br><span class="line">CHARACTER*20 :: First_Name ! 类型声明</span><br><span class="line">!</span><br><span class="line">	PRINT *,&#x27; Type in your first name.&#x27;     ！ 输出语句</span><br><span class="line">	PRINT *,&#x27; up to 20 characters&#x27;</span><br><span class="line">	READ *,First_Name       ！读取键盘输入的字符</span><br><span class="line">	PRINT *,First_Name</span><br><span class="line">!</span><br><span class="line">END PROGRAM ch0701   ！ 终止程序</span><br></pre></td></tr></table></figure>


<h2 id="2、计算平均值"><a href="#2、计算平均值" class="headerlink" title="2、计算平均值"></a>2、计算平均值</h2><p>遵循的原则：声明所有变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">PROGRAM ch0702   ！程序命名</span><br><span class="line">!</span><br><span class="line">! This program reads in three numbers and sums</span><br><span class="line">! and averages them</span><br><span class="line">!</span><br><span class="line"></span><br><span class="line">IMPLICIT NONE   ！ 表示使用的每个数据项的类型必须是显式的</span><br><span class="line">REAL :: N1,N2,N3,Average = 0.0,Total = 0.0</span><br><span class="line">INTEGER :: N = 3</span><br><span class="line">	PRINT *,&#x27; Type in three numbers.&#x27;</span><br><span class="line">	PRINT *,&#x27; Separated by spaces or commas&#x27;</span><br><span class="line">	READ *,N1,N2,N3</span><br><span class="line">	Total= N1 + N2 + N3   ! 三个变量值相加</span><br><span class="line">	AVERAGE=Total/N</span><br><span class="line">	PRINT *,&#x27;Average of the numbers is &#x27;,Average</span><br><span class="line">END PROGRAM ch0702</span><br></pre></td></tr></table></figure>

<h1 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h1><ul>
<li>加：+</li>
<li>减：-</li>
<li>乘：*</li>
<li>除：&#x2F;</li>
<li>乘方：**</li>
</ul>
<p><strong>注意：整型运算最终结果也是整型！</strong><br><strong>注意：实型运算最终结果需要考虑精度！尤其是结果不是有限小数的情况</strong></p>
<h2 id="字符常数和变量"><a href="#字符常数和变量" class="headerlink" title="字符常数和变量"></a>字符常数和变量</h2><ul>
<li>显式变量：<br>需要定义<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INTEGER :: VAR1[,VAR2,VAR3]</span><br></pre></td></tr></table></figure></li>
<li>REAL 定义实型</li>
<li>INTEGER 定义整型</li>
<li>CHARACTER 定义字符型<br>字符型可以定义长度，缺省时为1。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHARACTER(len=&lt;len&gt;) ::</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>注：实际上，‘::’是可选的。其有无不影响程序运行。存在的目的是为了兼容早期的Fortran。不过，::看起来有种独特的美感（某本教程的作者说它很可爱），所以还是加上。</strong></p>
<ul>
<li>默认式变量：i，j，k，l，m，n为开头的变量名为INTEGER整型；其他为REAL实型。</li>
</ul>
<p>常数定义：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type,PARAMETER :: name=value [,name1=value1 ...]</span><br><span class="line">！例如</span><br><span class="line">real,parameter :: pi=3.1415926535</span><br></pre></td></tr></table></figure>

<p><strong>注：大写小写都可以。大写看起来好看，小写看起来更舒服（对于像我这样英语不好的人）。</strong></p>
<h2 id="运算顺序"><a href="#运算顺序" class="headerlink" title="运算顺序"></a>运算顺序</h2><ul>
<li>圆括号优先。</li>
<li>从右到左做指数运算</li>
<li>从左到右做乘法和除法运算</li>
<li>从左到右做加法和减法运算</li>
</ul>
<p>运算法则与C或Python相同，但是需要注意：</p>
<ul>
<li>求幂运算：从右往左的顺序</li>
<li>加减法：不需要注意运算顺序</li>
<li>乘法除法：非整型运算不一定按照从左到右的顺序，需要加括号保证顺序<br>注意：使用时加括号时最好的方式。</li>
</ul>
<p><strong>个人更喜欢多加括号。有些教程说熟练掌握，记住顺序。但是对于非计算机专业使用而言，加上括号的可读性更高，不需要纠结自己是否用对了。例如++i这种运算，个人认为十分“反人类”。</strong></p>
<h2 id="字符格式转换函数"><a href="#字符格式转换函数" class="headerlink" title="字符格式转换函数"></a>字符格式转换函数</h2><ul>
<li>INT(x) 实数-整数 截尾取整</li>
<li>NINT(x) 四舍五入取整</li>
<li>CEILING(x) 大于或等于x的最小整数</li>
<li>FLOOR(x) 小于或等于x的最大整数</li>
<li>REAL(X) 整数转化实数<br>前面即行x表示实数，X表示整数</li>
</ul>
<h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><p>内置函数为最通用的函数。</p>
<table>
<thead>
<tr>
<th align="center">函数名</th>
<th align="center">参数类型</th>
<th align="center">结果类型</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">SQRT(X)</td>
<td align="center">real</td>
<td align="center">real</td>
<td align="center">X的平方根</td>
</tr>
<tr>
<td align="center">ABS(X)</td>
<td align="center">real&#x2F;integer</td>
<td align="center">*</td>
<td align="center">绝对值</td>
</tr>
<tr>
<td align="center">ACHAR(I)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">SIN(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">弧度制</td>
</tr>
<tr>
<td align="center">SIND(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">角度制</td>
</tr>
<tr>
<td align="center">COS(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">COSD(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">TAN(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">TAND(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">EXP(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">LOG(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">LOGIO(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">IACHAR(C)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">MOD(A,B)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">MAX(A,B)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">MIN(A,B)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ASIN(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ASIND(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACOS(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACOSD(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ATAN(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ATAND(X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ATAN2(Y&#x2F;X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ATAN2D(Y,X)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>注:*指输出类型与输入类型相同。</p>
<h2 id="表控输入与输出"><a href="#表控输入与输出" class="headerlink" title="表控输入与输出"></a>表控输入与输出</h2><p>表控输入：变量列表中的变量类型决定输入数据需要的格式。</p>
<pre><code>READ(*,*)input_list
WRITE(*,*)output_list
PRINT *. output_list

# (*,*)表示任意长度，使用``,``隔开
</code></pre>
<p>WRITE与PRINT等价。</p>
<p>关于PRINT：</p>
<pre><code>PRINT fmt, i/o_list
</code></pre>
<p>fmt是读取格式说明，示例如下：</p>
<pre><code>PRINT 100, x , y
100 FORMAT (2F10.2)
string = &#39;(2F10.2)&#39;
PRINT string,x,y
</code></pre>
<h2 id="IMPLICIT-NONE语句"><a href="#IMPLICIT-NONE语句" class="headerlink" title="IMPLICIT NONE语句"></a>IMPLICIT NONE语句</h2><p>加入</p>
<pre><code>IMPLICIT NONE
</code></pre>
<p>所有变量需要显式定义，因此可以避免计算机因为变量名出错而输出错误的答案。</p>
<h2 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h2><p>养成良好编程习惯：</p>
<ul>
<li>使用IMPLICIT NONE 语句。</li>
<li>返回所有输入值以及计量单位。（这也是为什么在mineos中看到运行时返回输入值的原因）</li>
<li>初始化所有变量：显式输入，不要忘记初始化变量。</li>
<li>圆括号使赋值语句更清晰。</li>
</ul>
<h2 id="截断"><a href="#截断" class="headerlink" title="截断"></a>截断</h2><p>注意截断。整型截断为舍入</p>
<h2 id="PARAMETER-语句"><a href="#PARAMETER-语句" class="headerlink" title="PARAMETER 语句"></a>PARAMETER 语句</h2><pre><code>REAL , PARAMETER :: value=12
</code></pre>
<p>类似于C语言中的固定变量，即在类型声明语句之前将某个变量名与变量关联，从而不可更改该变量名的值。<br>类似于<code>#define</code>。</p>
<h2 id="精度问题"><a href="#精度问题" class="headerlink" title="精度问题"></a>精度问题</h2><h2 id="变量状态"><a href="#变量状态" class="headerlink" title="变量状态"></a>变量状态</h2><ul>
<li>已确定的状态 defined：已定义值</li>
<li>未确定的状态 undefined：未定义值</li>
</ul>
<h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><h3 id="运行示例4"><a href="#运行示例4" class="headerlink" title="运行示例4"></a>运行示例4</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">PROGRAM ch0804</span><br><span class="line">implicit none</span><br><span class="line">real :: light_minute, distance, elapse</span><br><span class="line">integer :: minute, second </span><br><span class="line">real, parameter :: light_year=9.46*10**12</span><br><span class="line"></span><br><span class="line">light_minute = light_year/(365.25 * 24.0 * 60.0)</span><br><span class="line">distance = 150.0 * 10 ** 6</span><br><span class="line">elapse = distance / light_minute</span><br><span class="line">minute = elapse</span><br><span class="line">second = (elapse - minute) * 60</span><br><span class="line">print *,&#x27; light takes &#x27; , minute, &#x27; Minutes&#x27;</span><br><span class="line">print *,&#x27;             &#x27; , second, &#x27; seconds&#x27;</span><br><span class="line">print *,&#x27; To reach the earth from the sum&#x27;</span><br><span class="line">END PROGRAM ch0804</span><br></pre></td></tr></table></figure>

<p>在运行ch0804出现错误：</p>
<pre><code>Error: Result of exponentiation at (1) exceeds the range of INTEGER(4)
</code></pre>
<p>表示结果超出整型范围。</p>
<p>疑问：？？？ 未解决</p>
<h3 id="计算摆的周期"><a href="#计算摆的周期" class="headerlink" title="计算摆的周期"></a>计算摆的周期</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PROGRAM period_of_pendulum</span><br><span class="line">implicit none</span><br><span class="line">real :: length,T</span><br><span class="line">real , parameter :: pi = 3.1415926535</span><br><span class="line">print *,&#x27;Please input the length of pendulum:&#x27;</span><br><span class="line">read *, length</span><br><span class="line">T = 2 * Pi * (length / 9.81) ** .5</span><br><span class="line">print *,&#x27;The period is &#x27;, T, &#x27;seconds.&#x27;</span><br><span class="line">end program period_of_pendulum</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> Please input the length of pendulum:</span><br><span class="line">1</span><br><span class="line"> The period is    2.00606656     seconds.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在计算器中的输出值为：2.006066681。</p>
<h3 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">program base_conversion</span><br><span class="line">real :: x1=1.0</span><br><span class="line">real :: x2=0.1</span><br><span class="line">real :: x3=0.01</span><br><span class="line">real :: x4=0.001</span><br><span class="line">real :: x5=0.0001</span><br><span class="line">	print *,&#x27; &#x27;,x1</span><br><span class="line">	print *,&#x27; &#x27;,x2</span><br><span class="line">	print *,&#x27; &#x27;,x3</span><br><span class="line">	print *,&#x27; &#x27;,x4</span><br><span class="line">	print *,&#x27; &#x27;,x5</span><br><span class="line">end program base_conversion</span><br></pre></td></tr></table></figure>
<p>输出结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> 1.00000000    </span><br><span class="line">0.100000001    </span><br><span class="line"> 9.99999978E-03</span><br><span class="line"> 1.00000005E-03</span><br><span class="line"> 9.99999975E-05</span><br></pre></td></tr></table></figure>
<p>1.0保持不变，但是其他值均发生了改变。</p>
<h3 id="简单减法"><a href="#简单减法" class="headerlink" title="简单减法"></a>简单减法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">program subtract</span><br><span class="line">real :: a=1.0002</span><br><span class="line">real :: b=1.0001</span><br><span class="line">real :: c</span><br><span class="line">	c=a-b</span><br><span class="line">	print *,a</span><br><span class="line">	print *,b</span><br><span class="line">	print *,c</span><br><span class="line">end program subtract</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.00020003    </span><br><span class="line">1.00010002    </span><br><span class="line">1.00016594E-04</span><br></pre></td></tr></table></figure>
<p>理论结果为0.0001，但是结果输出不同了，而且a和b的值也发生了变化。这与十进制与二进制的转换有关。</p>
<h3 id="fortran下的表达式等价原则"><a href="#fortran下的表达式等价原则" class="headerlink" title="fortran下的表达式等价原则"></a>fortran下的表达式等价原则</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">program expression_equivalence</span><br><span class="line">real :: x=1.002</span><br><span class="line">real :: y=1.001</span><br><span class="line">real :: t1,t2,t3,t4,t5</span><br><span class="line">	t1=x-y</span><br><span class="line">	t2=x+y</span><br><span class="line">	print *,t1</span><br><span class="line">	print *,t2</span><br><span class="line">	t3=t1*t2</span><br><span class="line">	t4=x**2-y**2</span><br><span class="line">	t5=x*x-y*y</span><br><span class="line">	print *,t3</span><br><span class="line">	print *,t4</span><br><span class="line">	print *,t5</span><br><span class="line">end program expression_equivalence</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x-y=9.99927521E-04</span><br><span class="line">x+y=2.00300002    </span><br><span class="line">(x-y)*(x+y)=2.00285483E-03</span><br><span class="line">x^2-y^2=2.00295448E-03</span><br><span class="line">x*x-y*y=2.00295448E-03</span><br></pre></td></tr></table></figure>
<p>计算器：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x-y=0.001</span><br><span class="line">x+y=2.003  </span><br><span class="line">(x-y)*(x+y)=2.003E-3</span><br><span class="line">x^2-y^2=2.003E-3</span><br><span class="line">x*x-y*y=2.003E-3</span><br></pre></td></tr></table></figure>
<p>LibreOffice：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x-y=0.001</span><br><span class="line">x+y=2.003  </span><br><span class="line">(x-y)*(x+y)=0.002003</span><br><span class="line">x^2-y^2=0.002003</span><br><span class="line">x*x-y*y=0.002003</span><br></pre></td></tr></table></figure>
<h3 id="ch0804变形"><a href="#ch0804变形" class="headerlink" title="ch0804变形"></a>ch0804变形</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">PROGRAM ch0804changed</span><br><span class="line">implicit none</span><br><span class="line">real :: light_minute, distance, elapse</span><br><span class="line">integer :: minute, second </span><br><span class="line">real :: light_year  ! 改变的为这一句和下面一句，将其改变为可变变量</span><br><span class="line">light_year=9.46*10**12</span><br><span class="line">light_minute = light_year/(365.25 * 24.0 * 60.0)</span><br><span class="line">distance = 150.0 * 10 ** 6</span><br><span class="line">elapse = distance / light_minute</span><br><span class="line">minute = elapse</span><br><span class="line">second = (elapse - minute) * 60</span><br><span class="line">print *,&#x27; light takes &#x27; , minute, &#x27; Minutes&#x27;</span><br><span class="line">print *,&#x27;             &#x27; , second, &#x27; seconds&#x27;</span><br><span class="line">print *,&#x27; To reach the earth from the sum&#x27;</span><br><span class="line">END PROGRAM ch0804changed</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    6 | light_year=9.46*10**12</span><br><span class="line">      |                  1</span><br><span class="line">Error: Result of exponentiation at (1) exceeds the range of INTEGER(4)</span><br></pre></td></tr></table></figure>
<p>疑问： ？？？未解决</p>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="DIMENSION-属性"><a href="#DIMENSION-属性" class="headerlink" title="DIMENSION 属性"></a>DIMENSION 属性</h2><p>使用dimension属性将变量定义为数组：</p>
<pre><code>real , dimension(len) :: wages
integer , dimension(len) :: sample
</code></pre>
<p>赋值数组内的元素：</p>
<pre><code>wages(1)=1.
wages = [1.,2.,33.]
wages = 1 # 赋值为相同值
(arg1, arg2, ... , index = istart, iend, incr) # 隐藏的循环初始化赋值
</code></pre>
<p>示例1：</p>
<pre><code>integer, dimension(25)::array4=[(0,i=1,4),5*j,j=1,5]
</code></pre>
<p>结果：</p>
<pre><code>0,0,0,0,5,0,0,0,0,10,0,0,0,0,15,0,0,0,0,20
</code></pre>
<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">program ch0901</span><br><span class="line">implicit none</span><br><span class="line">real :: total=0.0, average=0.0 !定义变量</span><br><span class="line">real , dimension(1:12) :: rainfall</span><br><span class="line">integer :: month</span><br><span class="line"></span><br><span class="line">	print *,&#x27;Type in the rainfall values&#x27;</span><br><span class="line">	print *,&#x27;one per line&#x27;</span><br><span class="line">	do month=1,12   ! 使用do进行循环</span><br><span class="line">		read *, rainfall(month)</span><br><span class="line">	enddo</span><br><span class="line">	</span><br><span class="line">	do month=1,12</span><br><span class="line">		total = total + rainfall(month)</span><br><span class="line">	enddo</span><br><span class="line">	</span><br><span class="line">	average = total / 12</span><br><span class="line">	print *,&#x27;average monthly rainfall was&#x27;</span><br><span class="line">	print *, average</span><br><span class="line">end program ch0901</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> Type in the rainfall values</span><br><span class="line"> one per line</span><br><span class="line">23</span><br><span class="line">22</span><br><span class="line">24</span><br><span class="line">23</span><br><span class="line">21</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">12</span><br><span class="line">10</span><br><span class="line">45</span><br><span class="line">40</span><br><span class="line">44</span><br><span class="line"> average monthly rainfall was</span><br><span class="line">   24.2500000  </span><br></pre></td></tr></table></figure>
<h2 id="改变数组下标取值范围"><a href="#改变数组下标取值范围" class="headerlink" title="改变数组下标取值范围"></a>改变数组下标取值范围</h2><p>一般使用<code>1,2,...,N</code>表示下标索引。但是有时以<code>0</code>开始更为方便。<br>指定下标的方式为：</p>
<pre><code>real, dimension(lower_bound : upper_bound) :: array
</code></pre>
<p>数组宽度&#x3D;上界值-下界值+1</p>
<h2 id="数组下标越界"><a href="#数组下标越界" class="headerlink" title="数组下标越界"></a>数组下标越界</h2><p>边界检测消耗运算资源。debug时开启，运行时关闭。</p>
<p>开启边界检测器在运行时输入:</p>
<pre><code># windows情况下
ifort -check filename.f90 # 编译
filename.f90 # 运行
</code></pre>
<h2 id="使用命名常数"><a href="#使用命名常数" class="headerlink" title="使用命名常数"></a>使用命名常数</h2><pre><code>REAL, DIMENSION(MAX_SIZE)::array1
</code></pre>
<p>MAX_SIZE可以修改。</p>
<h2 id="使用整个数组"><a href="#使用整个数组" class="headerlink" title="使用整个数组"></a>使用整个数组</h2><p>数组<code>a</code>与数组<code>b</code>相加，为两个数组中的逐个元素相加。但是两个数组纬度必须相同！标量值与数组相同，将作用于每个元素。</p>
<h2 id="使用部分数组"><a href="#使用部分数组" class="headerlink" title="使用部分数组"></a>使用部分数组</h2><p>部分数组，即数组的子集。</p>
<pre><code>subscript_1 : subscript_2 : stride  # 最小下标，最大下标，下标增量
</code></pre>
<p>若缺省，则分别为：数组的最小下标，数组的最大下标，1。</p>
<h2 id="可变数组"><a href="#可变数组" class="headerlink" title="可变数组"></a>可变数组</h2><p>定义可变数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">real, dimension(:,:), allocatable :: array1,array2</span><br></pre></td></tr></table></figure>
<p>分配内存空间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allocate(array1(len1,len2),array2(len3,len4))</span><br></pre></td></tr></table></figure>
<p>释放内存空间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deallocate(array1,array2)</span><br></pre></td></tr></table></figure>

<h2 id="数组输入输出"><a href="#数组输入输出" class="headerlink" title="数组输入输出"></a>数组输入输出</h2><h3 id="数组元素输入输出"><a href="#数组元素输入输出" class="headerlink" title="数组元素输入输出"></a>数组元素输入输出</h3><p>可以使用<code>WRITE</code>语句。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WRITE (*,100)a(1),a(2),a(3)</span><br><span class="line">100 FORMAT (&#x27;a=&#x27;,3F10.2)</span><br></pre></td></tr></table></figure>

<p>隐式DO循环：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WRITE (*,100) (a(i), i=1,3)</span><br><span class="line">100 FORMAT (&#x27;a=&#x27;,3F10.2)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WRITE (unit, format)(arg1, arg2,...,index = istart, iend, incr)</span><br></pre></td></tr></table></figure>
<p>arg为要输入或者输出的数值。index控制循环。<code>READ</code>同上。<br>arg如果为数组，可以使用：<code>arg(index)</code>表示输出。</p>
<p>嵌套隐式DO循环：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">write(*,100) ((i,j,j=1,3),i=1,2)</span><br><span class="line">100 FORMAT (I5,1X,I5)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 1</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">2 1</span><br><span class="line">2 2</span><br><span class="line">2 3</span><br></pre></td></tr></table></figure>

<h3 id="整个数组的输入输出"><a href="#整个数组的输入输出" class="headerlink" title="整个数组的输入输出"></a>整个数组的输入输出</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">real, dimension(5)::a=[1,2,3,4,5]</span><br><span class="line">WRITE(*,100) a</span><br><span class="line">100 FORMAT (6F8.3)</span><br><span class="line">WRITE(*,100) a(2::2) # 输出指定下标</span><br><span class="line">WRITE(*,100) a([3,2,3,4]) # 输出数组指定的下标</span><br></pre></td></tr></table></figure>


<h2 id="do循环"><a href="#do循环" class="headerlink" title="do循环"></a>do循环</h2><pre><code>do counter = start, end, increment
......  ！语句
enddo
</code></pre>
<p>其中，increment默认为1，可以省略。</p>
<h2 id="使用参数设置数组大小"><a href="#使用参数设置数组大小" class="headerlink" title="使用参数设置数组大小"></a>使用参数设置数组大小</h2><p>例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">program ch0902</span><br><span class="line">implicit none</span><br><span class="line"></span><br><span class="line">integer ,parameter :: number_of_people = 10</span><br><span class="line">real :: total=0.0, average=0.0 !定义变量</span><br><span class="line">integer :: person</span><br><span class="line">real , dimension(1:number_of_people) :: weight</span><br><span class="line"></span><br><span class="line">	do person = 1, number_of_people</span><br><span class="line">		print *,&#x27;type in the weight for person &#x27;, person</span><br><span class="line">		read *,weight(person)</span><br><span class="line">		total = total + weight(person)</span><br><span class="line">	enddo</span><br><span class="line">	average = total/number_of_people</span><br><span class="line">	</span><br><span class="line">	print *,&#x27;the total of the weights is &#x27;, total</span><br><span class="line">	print *,&#x27;average weight is &#x27;, average</span><br><span class="line">	print *,&#x27; &#x27;,number_of_people, &#x27; weights were &#x27;</span><br><span class="line">	</span><br><span class="line">	do person = 1, number_of_people</span><br><span class="line">		print *,weight(person)</span><br><span class="line">	enddo</span><br><span class="line">end program ch0902</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> type in the weight for person            1</span><br><span class="line">85</span><br><span class="line"> type in the weight for person            2</span><br><span class="line">76</span><br><span class="line"> type in the weight for person            3</span><br><span class="line">85</span><br><span class="line"> type in the weight for person            4</span><br><span class="line">90</span><br><span class="line"> type in the weight for person            5</span><br><span class="line">69</span><br><span class="line"> type in the weight for person            6</span><br><span class="line">83</span><br><span class="line"> type in the weight for person            7</span><br><span class="line">64</span><br><span class="line"> type in the weight for person            8</span><br><span class="line">57</span><br><span class="line"> type in the weight for person            9</span><br><span class="line">65</span><br><span class="line"> type in the weight for person           10</span><br><span class="line">76</span><br><span class="line"> the total of the weights is    750.000000    </span><br><span class="line"> average weight is    75.0000000    </span><br><span class="line">            10  weights were </span><br><span class="line">   85.0000000    </span><br><span class="line">   76.0000000    </span><br><span class="line">   85.0000000    </span><br><span class="line">   90.0000000    </span><br><span class="line">   69.0000000    </span><br><span class="line">   83.0000000    </span><br><span class="line">   64.0000000    </span><br><span class="line">   57.0000000    </span><br><span class="line">   65.0000000    </span><br><span class="line">   76.0000000   </span><br></pre></td></tr></table></figure>

<p>语句：</p>
<pre><code>real , dimension(number) :: weight
</code></pre>
<p>若下界未指定，则为1。</p>
<h2 id="格式化输出形式"><a href="#格式化输出形式" class="headerlink" title="格式化输出形式"></a>格式化输出形式</h2><h3 id="format输出"><a href="#format输出" class="headerlink" title="format输出"></a>format输出</h3><p>常用描述符号与举例：<br>参考：<a target="_blank" rel="noopener" href="https://www.yiibai.com/fortran/fortran_basic_input_output.html">https://www.yiibai.com/fortran/fortran_basic_input_output.html</a></p>
<p>例句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print 100</span><br><span class="line">100 format (20x, &#x27;Length&#x27;, 20x,&#x27;period&#x27;)</span><br><span class="line"></span><br><span class="line">do number = 1,10</span><br><span class="line">	print 200, length(number), T(number)</span><br><span class="line">	200 format (20x, i5, 20x, f5.2)  </span><br><span class="line">	 ！ 输出为length和T，其中20x表示空间格数，i5指整数5个长度。f为实数。</span><br><span class="line">enddo</span><br></pre></td></tr></table></figure>

<h2 id="思考题-1"><a href="#思考题-1" class="headerlink" title="思考题"></a>思考题</h2><h3 id="2、计算5个数的平均值"><a href="#2、计算5个数的平均值" class="headerlink" title="2、计算5个数的平均值"></a>2、计算5个数的平均值</h3><p>注意！ 定义数组时使用<code>:</code>分隔上下界，使用do循环使用<code>,</code>分隔上下界。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">program average_5</span><br><span class="line"></span><br><span class="line">integer , parameter :: quantity=5</span><br><span class="line">real , dimension(1 : quantity) :: numbers</span><br><span class="line">real :: total=0.0, average=0.0</span><br><span class="line">integer :: range</span><br><span class="line">do range=1,quantity</span><br><span class="line">	print *,&#x27;Please input &#x27;,quantity,&#x27;numbers, the &#x27;, range,&#x27;one is:&#x27;</span><br><span class="line">	read *,numbers(range)</span><br><span class="line">	total = total + numbers(range)</span><br><span class="line">enddo</span><br><span class="line"></span><br><span class="line">average=total/quantity</span><br><span class="line">print *,&#x27;The average of &#x27;,quantity,&#x27;numbers is:&#x27;,average</span><br><span class="line"></span><br><span class="line">end program average_5</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> Please input            5 numbers, the            1 one is:</span><br><span class="line">5</span><br><span class="line"> Please input            5 numbers, the            2 one is:</span><br><span class="line">3.4</span><br><span class="line"> Please input            5 numbers, the            3 one is:</span><br><span class="line">0.6</span><br><span class="line"> Please input            5 numbers, the            4 one is:</span><br><span class="line">2.8</span><br><span class="line"> Please input            5 numbers, the            5 one is:</span><br><span class="line">8.9</span><br><span class="line"> The average of            5 numbers is:   4.14000034    </span><br></pre></td></tr></table></figure>

<h3 id="3-1、改写体重总数，计算身高总数和平均数"><a href="#3-1、改写体重总数，计算身高总数和平均数" class="headerlink" title="3-1、改写体重总数，计算身高总数和平均数"></a>3-1、改写体重总数，计算身高总数和平均数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">program ch0902</span><br><span class="line">implicit none</span><br><span class="line"></span><br><span class="line">integer ,parameter :: number_of_people = 10</span><br><span class="line">real :: total_weight=0.0, average_weight=0.0,total_height=0.0, average_height=0.0</span><br><span class="line">integer :: person</span><br><span class="line">real , dimension(1:number_of_people) :: weight, height</span><br><span class="line"></span><br><span class="line">	do person = 1, number_of_people</span><br><span class="line">		print *,&#x27;type in the weight and height for person &#x27;, person, &#x27;use space as the interval:&#x27;</span><br><span class="line">		read *,weight(person), height(person)</span><br><span class="line">		total_weight = total_weight + weight(person)</span><br><span class="line">		total_height = total_height + height(person)</span><br><span class="line">	enddo</span><br><span class="line">	average_weight = total_weight/number_of_people</span><br><span class="line">	average_height = total_height/number_of_people</span><br><span class="line">	</span><br><span class="line">	print *,&#x27;the total of the weights is &#x27;, total_weight, &#x27;the total of the heights is &#x27;, total_height</span><br><span class="line">	print *,&#x27;average weight is &#x27;, average_weight, &#x27; average height is &#x27;, average_height</span><br><span class="line">	</span><br><span class="line">	print *,&#x27; &#x27;,number_of_people, &#x27; weights and heights were &#x27;	</span><br><span class="line">	print *,&#x27;^I&#x27;,&#x27;number_of_people&#x27;, &#x27;^I weights&#x27;,&#x27; ^I heights&#x27;	</span><br><span class="line">	do person = 1, number_of_people</span><br><span class="line">		print *,person,&#x27;^I&#x27;,weight(person),&#x27;^I&#x27;, height(person)</span><br><span class="line">	enddo</span><br><span class="line">	</span><br><span class="line">end program ch0902</span><br></pre></td></tr></table></figure>
<p>忘了改program名了，但是也证明了内部program的名称和外部文件名称可以不同，以外部文件名为准。<br>输出：<br>（ps：输出有些杂乱，因为还没有掌握输出书写的一些方式。）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> type in the weight and height for person            1 use space as the interval:</span><br><span class="line">85 1.85</span><br><span class="line"> type in the weight and height for person            2 use space as the interval:</span><br><span class="line">76 1.80</span><br><span class="line"> type in the weight and height for person            3 use space as the interval:</span><br><span class="line">85 1.85</span><br><span class="line"> type in the weight and height for person            4 use space as the interval:</span><br><span class="line">90 1.70</span><br><span class="line"> type in the weight and height for person            5 use space as the interval:</span><br><span class="line">69 1.75</span><br><span class="line"> type in the weight and height for person            6 use space as the interval:</span><br><span class="line">83 1.67</span><br><span class="line"> type in the weight and height for person            7 use space as the interval:</span><br><span class="line">64 1.55</span><br><span class="line"> type in the weight and height for person            8 use space as the interval:</span><br><span class="line">57 1.63</span><br><span class="line"> type in the weight and height for person            9 use space as the interval:</span><br><span class="line">65 1.79</span><br><span class="line"> type in the weight and height for person           10 use space as the interval:</span><br><span class="line">76 1.78</span><br><span class="line"> the total of the weights is    750.000000     the total of the heights is    17.3700008    </span><br><span class="line"> average weight is    75.0000000      average height is    1.73700011    </span><br><span class="line">            10  weights and heights were </span><br><span class="line"> ^Inumber_of_people^I weights ^I heights</span><br><span class="line">           1 ^I   85.0000000     ^I   1.85000002    </span><br><span class="line">           2 ^I   76.0000000     ^I   1.79999995    </span><br><span class="line">           3 ^I   85.0000000     ^I   1.85000002    </span><br><span class="line">           4 ^I   90.0000000     ^I   1.70000005    </span><br><span class="line">           5 ^I   69.0000000     ^I   1.75000000    </span><br><span class="line">           6 ^I   83.0000000     ^I   1.66999996    </span><br><span class="line">           7 ^I   64.0000000     ^I   1.54999995    </span><br><span class="line">           8 ^I   57.0000000     ^I   1.63000000    </span><br><span class="line">           9 ^I   65.0000000     ^I   1.78999996    </span><br><span class="line">          10 ^I   76.0000000     ^I   1.77999997 </span><br></pre></td></tr></table></figure>

<h3 id="3-2-计算BIM值"><a href="#3-2-计算BIM值" class="headerlink" title="3-2 计算BIM值"></a>3-2 计算BIM值</h3><p>使用语句：<br>    a.out &lt; data.dat &gt; results.txt</p>
<p>实现文件的输入和输出操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">program ch3_2</span><br><span class="line">implicit none</span><br><span class="line"></span><br><span class="line">integer ,parameter :: number_of_people = 10</span><br><span class="line">real :: total_weight=0.0, average_weight=0.0,total_height=0.0, average_height=0.0</span><br><span class="line">integer :: person</span><br><span class="line">real , dimension(1:number_of_people) :: weight, height, BMI</span><br><span class="line"></span><br><span class="line">	do person = 1, number_of_people</span><br><span class="line">		print *,&#x27;type in the weight and height for person &#x27;, person, &#x27;use space as the interval:&#x27;</span><br><span class="line">		read *,weight(person), height(person)</span><br><span class="line">		total_weight = total_weight + weight(person)</span><br><span class="line">		total_height = total_height + height(person)</span><br><span class="line">		BMI(person)=weight(person)/(height(person)**2)</span><br><span class="line">	enddo</span><br><span class="line">	</span><br><span class="line">	average_weight = total_weight/number_of_people</span><br><span class="line">	average_height = total_height/number_of_people</span><br><span class="line">	</span><br><span class="line">	print *,&#x27;the total of the weights is &#x27;, total_weight, &#x27;the total of the heights is &#x27;, total_height</span><br><span class="line">	print *,&#x27;average weight is &#x27;, average_weight, &#x27; average height is &#x27;, average_height</span><br><span class="line">	</span><br><span class="line">	print *,&#x27; &#x27;,number_of_people, &#x27; weights and heights were &#x27;	</span><br><span class="line">	print *,&#x27;number_of_people&#x27;, &#x27;weights&#x27;,&#x27;heights&#x27;	,&#x27;BMI&#x27;</span><br><span class="line">	do person = 1, number_of_people</span><br><span class="line">		print *,person ,weight(person), height(person), BMI(person)</span><br><span class="line">	enddo</span><br><span class="line">	</span><br><span class="line">end program ch3_2</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">文件 result.txt</span><br><span class="line"> type in the weight and height for person            1 use space as the interval:</span><br><span class="line"> type in the weight and height for person            2 use space as the interval:</span><br><span class="line"> type in the weight and height for person            3 use space as the interval:</span><br><span class="line"> type in the weight and height for person            4 use space as the interval:</span><br><span class="line"> type in the weight and height for person            5 use space as the interval:</span><br><span class="line"> type in the weight and height for person            6 use space as the interval:</span><br><span class="line"> type in the weight and height for person            7 use space as the interval:</span><br><span class="line"> type in the weight and height for person            8 use space as the interval:</span><br><span class="line"> type in the weight and height for person            9 use space as the interval:</span><br><span class="line"> type in the weight and height for person           10 use space as the interval:</span><br><span class="line"> the total of the weights is    750.000000     the total of the heights is    17.3700008    </span><br><span class="line"> average weight is    75.0000000      average height is    1.73700011    </span><br><span class="line">            10  weights and heights were </span><br><span class="line"> number_of_peopleweightsheightsBMI</span><br><span class="line">           1   85.0000000       1.85000002       24.8356457    </span><br><span class="line">           2   76.0000000       1.79999995       23.4567909    </span><br><span class="line">           3   85.0000000       1.85000002       24.8356457    </span><br><span class="line">           4   90.0000000       1.70000005       31.1418667    </span><br><span class="line">           5   69.0000000       1.75000000       22.5306129    </span><br><span class="line">           6   83.0000000       1.66999996       29.7608395    </span><br><span class="line">           7   64.0000000       1.54999995       26.6389179    </span><br><span class="line">           8   57.0000000       1.63000000       21.4535751    </span><br><span class="line">           9   65.0000000       1.78999996       20.2865086    </span><br><span class="line">          10   76.0000000       1.77999997       23.9868717    </span><br></pre></td></tr></table></figure>

<h3 id="6、计算摆的周期（制表）"><a href="#6、计算摆的周期（制表）" class="headerlink" title="6、计算摆的周期（制表）"></a>6、计算摆的周期（制表）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">program ch6</span><br><span class="line">implicit none</span><br><span class="line">real , parameter :: pi = 3.1415926535</span><br><span class="line">integer ,dimension(1:10) :: length</span><br><span class="line">integer :: number</span><br><span class="line">real ,dimension(1:10) :: T</span><br><span class="line">do number = 1,10,1</span><br><span class="line">	length(number) = number</span><br><span class="line">enddo</span><br><span class="line">do number = 1,10</span><br><span class="line">	T(number) = 2 * pi * (length(number) / 9.81) ** .5</span><br><span class="line">enddo</span><br><span class="line"></span><br><span class="line">print 100</span><br><span class="line">100 format (20x, &#x27;Length&#x27;, 20x,&#x27;period&#x27;)</span><br><span class="line"></span><br><span class="line">do number = 1,10</span><br><span class="line">	print 200, length(number), T(number)</span><br><span class="line">	200 format (20x, i5, 20x, f5.2)  </span><br><span class="line">enddo</span><br><span class="line"></span><br><span class="line">end program ch6</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Length                    period</span><br><span class="line">    1                     2.01</span><br><span class="line">    2                     2.84</span><br><span class="line">    3                     3.47</span><br><span class="line">    4                     4.01</span><br><span class="line">    5                     4.49</span><br><span class="line">    6                     4.91</span><br><span class="line">    7                     5.31</span><br><span class="line">    8                     5.67</span><br><span class="line">    9                     6.02</span><br><span class="line">   10                     6.34</span><br></pre></td></tr></table></figure>

<h1 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h1><h2 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">IF(logical_expr1)THEN</span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line">ELSE IF(logical_expr2)THEN</span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line">ELSE</span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line">END IF</span><br></pre></td></tr></table></figure>

<p>嵌套IF语句命名使其运行更加稳妥。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">outer IF(test1)THEN</span><br><span class="line">    </span><br><span class="line">    inner IF(test1)THEN</span><br><span class="line"></span><br><span class="line">    END IF inner</span><br><span class="line">    </span><br><span class="line">END IF outer</span><br></pre></td></tr></table></figure>

<p>逻辑IF语句</p>
<pre><code>IF(logical_expr) a,b,c
</code></pre>
<p>算数IF语句</p>
<pre><code>IF(expr) a, b, c
</code></pre>
<ul>
<li>&lt;0 执行a</li>
<li>&#x3D;0 执行b</li>
<li>大于0 执行c</li>
</ul>
<h2 id="SELECT-CASE结构"><a href="#SELECT-CASE结构" class="headerlink" title="SELECT CASE结构"></a>SELECT CASE结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[name:]SELECT CASE( case_expr)</span><br><span class="line">CASE(情况选择1)[name]</span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line">CASE(情况选择2)[name]</span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">CASE DEFAULT [name]</span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line">END SELECT [name]</span><br></pre></td></tr></table></figure>

<p>命名case结构，使得更加清晰。</p>
<h2 id="DEBUGE"><a href="#DEBUGE" class="headerlink" title="DEBUGE"></a>DEBUGE</h2><p>在分支结构中插入WRITE是最简单的方式，输出表明运行到哪一步。</p>
<p>测试相等性时，使用近似测试。</p>
<h1 id="循环与字符操作"><a href="#循环与字符操作" class="headerlink" title="循环与字符操作"></a>循环与字符操作</h1><h2 id="do循环-1"><a href="#do循环-1" class="headerlink" title="do循环"></a>do循环</h2><p>不确定性执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[name:]DO</span><br><span class="line">...</span><br><span class="line">    if(EXP)EXIT</span><br><span class="line">...</span><br><span class="line">END DO [name]</span><br></pre></td></tr></table></figure>
<p>EXP为真，执行EXIT，退出循环。</p>
<h2 id="do-while循环"><a href="#do-while循环" class="headerlink" title="do while循环"></a>do while循环</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DO WHILE(EXP)</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">END DO</span><br></pre></td></tr></table></figure>
<p>EXP为真，循环进行，为假时立刻退出循环。</p>
<h2 id="迭代计数循环"><a href="#迭代计数循环" class="headerlink" title="迭代计数循环"></a>迭代计数循环</h2><pre><code>[name:]do counter = start, end, increment
......  ！语句
end do [name]
</code></pre>
<ul>
<li>increment 默认为1，可以省略。</li>
<li>counter 整型变量，作为循环计数使用。</li>
<li>start end 计数循环的参数，表示开始和结束。</li>
<li>计算规则：<code>counter*increment≤end*increment</code> 时进行循环。</li>
</ul>
<p><strong>注：为了防止永久循环，不可在循环中修改控制变量。</strong></p>
<h2 id="CYCLE语句与EXIT语句"><a href="#CYCLE语句与EXIT语句" class="headerlink" title="CYCLE语句与EXIT语句"></a>CYCLE语句与EXIT语句</h2><h3 id="CYCLE"><a href="#CYCLE" class="headerlink" title="CYCLE"></a>CYCLE</h3><p>使用CYCLE使得当前循环被终止，循环返回顶部。</p>
<p>在嵌套循环中，使用<code>CYCLE [name]</code>语句，可以使其<code>CYCLE</code>正确的循环。</p>
<pre><code>IF(j=2)CYCLE outer
</code></pre>
<p>可以实现在内部循环中终止当前的外循环。</p>
<h3 id="EXIT"><a href="#EXIT" class="headerlink" title="EXIT"></a>EXIT</h3><p>使用<code>EXIT</code>使得循环被终止。</p>
<h2 id="字符操作"><a href="#字符操作" class="headerlink" title="字符操作"></a>字符操作</h2><h3 id="子串提取"><a href="#子串提取" class="headerlink" title="子串提取"></a>子串提取</h3><p>定义CHARACTER时。使用<code>len=&lt;len&gt;</code>语句，使得变量只能存储相应长度的字符。</p>
<h3 id="连接操作符"><a href="#连接操作符" class="headerlink" title="连接操作符"></a>连接操作符</h3><p><code>//</code>是连接操作符。</p>
<p>将两个或者多个字符串或者子串合并成一个大的字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = &#x27;ABCDEFGHIJ&#x27;</span><br><span class="line">b = &#x27;123456789&#x27;</span><br><span class="line">c = a(1:3)//b(4:5)</span><br></pre></td></tr></table></figure>
<p><code>c</code>的值为：<code>’ABC45‘</code></p>
<h3 id="内置字符函数"><a href="#内置字符函数" class="headerlink" title="内置字符函数"></a>内置字符函数</h3><p>参考3 表4-1</p>
<h1 id="I-O内容"><a href="#I-O内容" class="headerlink" title="I&#x2F;O内容"></a>I&#x2F;O内容</h1><h2 id="格式和格式化WRITE"><a href="#格式和格式化WRITE" class="headerlink" title="格式和格式化WRITE"></a>格式和格式化WRITE</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WRITE(*,100)i,result</span><br><span class="line">100 FORMAT(&#x27;result :&#x27; ,I3, &#x27;is&#x27; ,F7.3)</span><br></pre></td></tr></table></figure>
<ul>
<li>100 指的是FORMAT的语句标号</li>
<li>I3 F7.3 格式符号</li>
</ul>
<h2 id="格式描述符"><a href="#格式描述符" class="headerlink" title="格式描述符"></a>格式描述符</h2><table>
<thead>
<tr>
<th align="center">符号</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">c</td>
<td align="center">列号</td>
</tr>
<tr>
<td align="center">d</td>
<td align="center">实数输入或者输出的小数位右边的位数</td>
</tr>
<tr>
<td align="center">m</td>
<td align="center">要显示的最小位数，不够补零</td>
</tr>
<tr>
<td align="center">n</td>
<td align="center">要跳过的空格数</td>
</tr>
<tr>
<td align="center">r</td>
<td align="center">重复计数，一组或者一个描述符的使用次数，即该格式符重复r次</td>
</tr>
<tr>
<td align="center">w</td>
<td align="center">域宽，输入或者输出占用的字符数；若不能显示所有字符则使用*代替</td>
</tr>
</tbody></table>
<h3 id="整数输出：I描述符"><a href="#整数输出：I描述符" class="headerlink" title="整数输出：I描述符"></a>整数输出：I描述符</h3><p><code>rIw</code>或者<code>rIw.m</code>。</p>
<h3 id="实数输出：F描述符"><a href="#实数输出：F描述符" class="headerlink" title="实数输出：F描述符"></a>实数输出：F描述符</h3><p><code>rFw.d</code><br>右对齐显示，不足补空格。</p>
<h3 id="实数输出：E描述符"><a href="#实数输出：E描述符" class="headerlink" title="实数输出：E描述符"></a>实数输出：E描述符</h3><p>科学计数法：<br><code>rEw.d</code><br>±0.ddddE±ee<br>一般w大于等于d+7。才能容纳整个数字字符。</p>
<h3 id="科学计数法：ES描述符"><a href="#科学计数法：ES描述符" class="headerlink" title="科学计数法：ES描述符"></a>科学计数法：ES描述符</h3><p>该格式为输出数值在1.0-10.0之间的数。<br><code>rESw.d</code></p>
<h3 id="逻辑输出：L描述符"><a href="#逻辑输出：L描述符" class="headerlink" title="逻辑输出：L描述符"></a>逻辑输出：L描述符</h3><p><code>rLw</code><br>右对齐显示逻辑输出<code>T</code>与<code>F</code></p>
<h3 id="字符输出：A描述符"><a href="#字符输出：A描述符" class="headerlink" title="字符输出：A描述符"></a>字符输出：A描述符</h3><p><code>rA</code>或者<code>rAw</code></p>
<h3 id="水平定位：X-T描述符"><a href="#水平定位：X-T描述符" class="headerlink" title="水平定位：X T描述符"></a>水平定位：X T描述符</h3><ul>
<li><code>nX</code><br>缓冲区中插入间距。<code>n</code>：插入的空格数。</li>
<li><code>Tc</code><br>在缓冲区中跳过特定列。<code>c</code>：转到的列号。转到相应列号开始打印。<br>注意：确保T跳到的位置不会覆盖之前的内容。</li>
</ul>
<h3 id="格式描述符重复使用"><a href="#格式描述符重复使用" class="headerlink" title="格式描述符重复使用"></a>格式描述符重复使用</h3><p>可以使用语句<code>2(I6,F10.2)</code>表示<code>(I6,F10.2,I6,F10.2)</code>。</p>
<p>可以使用<code>*(I6,F10.2)</code>使其一直重复直至没有输出数据。</p>
<h3 id="改变输出行：-描述符"><a href="#改变输出行：-描述符" class="headerlink" title="改变输出行：&#x2F;描述符"></a>改变输出行：&#x2F;描述符</h3><p>在打印机中使用。</p>
<h3 id="格式使用"><a href="#格式使用" class="headerlink" title="格式使用"></a>格式使用</h3><p>如果<code>FORMAT</code>中的格式符不足，则在没有重复次数的开始括号处重新开始。</p>
<h2 id="格式化READ语句"><a href="#格式化READ语句" class="headerlink" title="格式化READ语句"></a>格式化READ语句</h2><h3 id="整数输入：I描述符"><a href="#整数输入：I描述符" class="headerlink" title="整数输入：I描述符"></a>整数输入：I描述符</h3><p><code>rIw</code></p>
<h3 id="实数输入：F描述符"><a href="#实数输入：F描述符" class="headerlink" title="实数输入：F描述符"></a>实数输入：F描述符</h3><p><code>rFw.d</code><br>注:在实数描述符中输入，一定要输入带有小数点的整数！否则会产生错误！</p>
<h3 id="逻辑输入：L描述符"><a href="#逻辑输入：L描述符" class="headerlink" title="逻辑输入：L描述符"></a>逻辑输入：L描述符</h3><p><code>rLw</code></p>
<h3 id="字符输入：A描述符"><a href="#字符输入：A描述符" class="headerlink" title="字符输入：A描述符"></a>字符输入：A描述符</h3><p><code>rA</code>或<code>rAw</code></p>
<h3 id="水平定位：X和T描述符"><a href="#水平定位：X和T描述符" class="headerlink" title="水平定位：X和T描述符"></a>水平定位：X和T描述符</h3><h3 id="垂直定位：-描述符"><a href="#垂直定位：-描述符" class="headerlink" title="垂直定位：&#x2F;描述符"></a>垂直定位：&#x2F;描述符</h3><h2 id="文件及文件处理"><a href="#文件及文件处理" class="headerlink" title="文件及文件处理"></a>文件及文件处理</h2><h3 id="OPEN"><a href="#OPEN" class="headerlink" title="OPEN"></a>OPEN</h3><p>将一个文件与一个给定的i&#x2F;o单元号关联起来。格式为：</p>
<pre><code>OPEN(open_list)
</code></pre>
<p>open_list子句包含存取文件信息等。</p>
<ul>
<li>UNIT&#x3D;指明与文件关联的io单元号。<br>  <code>UNIT=int_expr</code></li>
<li>FILE&#x3D;指定要打开的文件名。<br>  <code>FILE=char_expr</code></li>
<li>STATUS&#x3D;指定要打开文件的状态。<br>  <code>STATUS=char_expr</code><br>  其中，char_expr为下列值之一:”OLD”,”NEW”,”REPLACE”,”SCRATCH”,”UNKNOW”。</li>
<li>ACTION&#x3D;指定一个文件是否以只读、只写或者读写方式打开。<br>  <code>ACTION=char_expr</code><br>  其中，char_expr为下列值之一：“READ”,”WRITE”,”READWRITE”。</li>
<li>IOSTAT&#x3D;指定一个整数变量名，打开操作的状态可以返回到这个变量中。<br>  <code>IOSTAT=int_var</code><br>  其中，Open成功执行后，ISOTAT值为0。如果不成功，为一个包含错误信息的正整数。</li>
<li>IOMSG&#x3D;指定一个字符变量名，包含错误信息。<br>  <code>IOMSG=chart_var</code><br>  字符变量。OPEN语句成功执行，字符变量内容不变。否则返回错误信息。</li>
</ul>
<h3 id="CLOSE"><a href="#CLOSE" class="headerlink" title="CLOSE"></a>CLOSE</h3><pre><code>CLOSE(close_list)
</code></pre>
<p>clost_list必须包含一个指定io单元号的子句，可以指定其它选项。（目前未阅读到那一章）。</p>
<h3 id="磁盘文件读写"><a href="#磁盘文件读写" class="headerlink" title="磁盘文件读写"></a>磁盘文件读写</h3><pre><code>READ(unit,*)变量名
</code></pre>
<p><code>READ</code>中<code>()</code>内第一个为读取的文件的io单元号。WRITE同。</p>
<h3 id="文件定位"><a href="#文件定位" class="headerlink" title="文件定位"></a>文件定位</h3><p>unit:与要使用的文件关联的IO单元号</p>
<h4 id="BACKSPACE"><a href="#BACKSPACE" class="headerlink" title="BACKSPACE"></a>BACKSPACE</h4><pre><code>BACKSPACE(UNIT=unit)
</code></pre>
<p>回退一条记录。</p>
<h4 id="REWIND"><a href="#REWIND" class="headerlink" title="REWIND"></a>REWIND</h4><pre><code>REWIND(UNIT=unit)
</code></pre>
<p>从文件头重新开始文件。</p>
<h1 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h1><p>外部过程：把每个子任务作为独立的程序单元进行编码。</p>
<p>两种外部过程：子例程和函数子程序（函数）。</p>
<h2 id="子例程"><a href="#子例程" class="headerlink" title="子例程"></a>子例程</h2><p>CALL语句使用过程名调用，格式如下:<br>定义：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SUBROUTINE subroutine_name (argument_list)</span><br><span class="line">...</span><br><span class="line">(Delaration section)</span><br><span class="line">...</span><br><span class="line">(Execution section)</span><br><span class="line">...</span><br><span class="line">RETURN </span><br><span class="line">END SUBROUTINE [subroutine_name]</span><br></pre></td></tr></table></figure>

<h3 id="INTENT属性："><a href="#INTENT属性：" class="headerlink" title="INTENT属性："></a>INTENT属性：</h3><p>定义<code>argument_list</code>中的变量，需要定义IN或OUT变量，以表示变量是输入还是输出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">REAL, INTENT(IN)::IN_VALUE1</span><br><span class="line">REAL, INTENT(OUT)::OUT_VALUE1</span><br><span class="line">REAL, DIMENSION(N), INTENT(INOUT)::ARRAY # 定义一个能输入和输出的数组</span><br></pre></td></tr></table></figure>
<p>其中，<code>INOUT</code>可以写为：<code>IN OUT</code>。<br>使用INTENT属性可以避免修改了<code>IN</code>类型的变量导致之后的该变量被改变，从而产生的错误。记住每一个形参都要设置INTENT属性！！！</p>
<p>定义内部变量时，定义临时变量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REAL ::temp</span><br></pre></td></tr></table></figure>

<p>调用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CALL subroutine_name (argument_list)</span><br></pre></td></tr></table></figure>
<p>调用时注意<code>argument_list</code>中的变量类型必须一一对应！</p>
<h3 id="传递数组"><a href="#传递数组" class="headerlink" title="传递数组"></a>传递数组</h3><p>数组可以显式传递或者不定大小传递。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">REAL, INTENT(IN), DIMENSION(n)::data1 # n为数组大小，在输入列表中给出。</span><br><span class="line">REAL, INTENT(IN), DIMENSION(*)::data1 # 不定大小，边界检测，整个或者部分数组都不能工作。</span><br></pre></td></tr></table></figure>
<p><strong>注：目前基本不使用不定数组的格式，因为会产生越界问题，且不易监测。</strong></p>
<h3 id="传递字符变量"><a href="#传递字符变量" class="headerlink" title="传递字符变量"></a>传递字符变量</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHARACTER (len=*), INTENT(IN)::STRING1</span><br></pre></td></tr></table></figure>
<p>使用<code>*</code>表示长度即可。因为没有必要在编译时必须知道字符串长度。</p>
<h3 id="小问题"><a href="#小问题" class="headerlink" title="小问题"></a>小问题</h3><p>不要在子例程中加入<code>STOP</code>语句，否则程序会“神秘终止”。<br>正确方法是对可能存在的错误进行检测。使用<code>IF</code>语句进行检测，采取相应操作。例如返回<code>error=0</code>。</p>
<h2 id="模块共享数据"><a href="#模块共享数据" class="headerlink" title="模块共享数据"></a>模块共享数据</h2><p>模块，使用<code>MODULE</code>声明。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MODULE shared_data</span><br><span class="line">！ 声明在两个程序之间共享的数据</span><br><span class="line">IMPLICIT NONE</span><br><span class="line">SAVE   ！ 必须包含这个语句。</span><br><span class="line">INTEGER, PARAMETER :: num_vals = 5 ！ 数组中的最大数值个数</span><br><span class="line">REAL, DIMENSION(num_vals)::values ! 数据值</span><br><span class="line">END MODULE shared_data</span><br></pre></td></tr></table></figure>
<p>使用模块中的数据：该语句必须出现在其他语句之前。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE shared_data</span><br></pre></td></tr></table></figure>
<p>注意：share的数据和局部变量不要重名！</p>
<h2 id="模块过程"><a href="#模块过程" class="headerlink" title="模块过程"></a>模块过程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MODULE my_subs</span><br><span class="line">implicit none</span><br><span class="line">contains</span><br><span class="line"></span><br><span class="line">    SUBROUTINE sub1 (a,b,c,x,error)</span><br><span class="line">    implicit none</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">    end subroutine sub1</span><br><span class="line">    </span><br><span class="line">END MODULE my_subs</span><br></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE my_subs</span><br></pre></td></tr></table></figure>
<p>即可在调用程序单元中使用子例程sub1。</p>
<p>使用模块调用子进程，可以使程序完全掌握子进程内的所有参数等，返回必要的错误信息。而直接调用子进程，主程序无法了解子进程中的任何信息。</p>
<h2 id="FORTRAN函数"><a href="#FORTRAN函数" class="headerlink" title="FORTRAN函数"></a>FORTRAN函数</h2><p>函数：结果是单个数值、逻辑值、字符串或数组的过程。只能返回一个值。</p>
<p>用户定义函数格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FUNCTION name (参数列表)</span><br><span class="line">...</span><br><span class="line">(在声明部分必须声明name类型)</span><br><span class="line">REAL, INTENT(IN):: INPUT_1</span><br><span class="line">...</span><br><span class="line">（执行部分）</span><br><span class="line">...</span><br><span class="line">name = expr</span><br><span class="line">RETURN</span><br><span class="line">END FUNCTION [name]</span><br></pre></td></tr></table></figure>

<p>由于函数必须返回一个值，因此需要定义函数返回值类型，有两种，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INTEGER FUNCTION my_function(i,j)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FUNCTION my_function(i,j)</span><br><span class="line">INTEGER :: my_function</span><br></pre></td></tr></table></figure>
<p>函数名为输出变量的名称，并且该变量已被定义，因此不需要在函数中再次定义。但是输入参数需要定义！</p>
<h2 id="过程作为参数传递给其它过程"><a href="#过程作为参数传递给其它过程" class="headerlink" title="过程作为参数传递给其它过程"></a>过程作为参数传递给其它过程</h2><h3 id="用户定义函数作为参数传递"><a href="#用户定义函数作为参数传递" class="headerlink" title="用户定义函数作为参数传递"></a>用户定义函数作为参数传递</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 外部定义函数，声明函数是外部调用的</span><br><span class="line">REAL, EXTERNAL :: fun_1, fun_2[,.....]</span><br><span class="line"></span><br><span class="line"># 调用fun的SUBROUTINE中</span><br><span class="line">REAL,EXTERNAL :: fun</span><br></pre></td></tr></table></figure>

<h3 id="子例程作为参数传递"><a href="#子例程作为参数传递" class="headerlink" title="子例程作为参数传递"></a>子例程作为参数传递</h3><p>在SUBROUTINE中，传递名为<code>sub</code>的子例程。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SUBROUTINE subs(sub, ...)</span><br><span class="line">...</span><br><span class="line">EXTERNAL :: sub ！ 定义子例程</span><br><span class="line">（定义其他输入输出变量）</span><br><span class="line">...</span><br><span class="line">CALL sub(value_list) ! 调用子例程</span><br><span class="line">...</span><br><span class="line">END SUBROUTINE subs</span><br></pre></td></tr></table></figure>

<h1 id="部分内置子进程"><a href="#部分内置子进程" class="headerlink" title="部分内置子进程"></a>部分内置子进程</h1><h2 id="EXP-求指数"><a href="#EXP-求指数" class="headerlink" title="EXP() 求指数"></a>EXP() 求指数</h2><ul>
<li>单精度 EXP()</li>
<li>双精度 DEXP()</li>
<li>复数 CEXP()</li>
</ul>
<h1 id="复数"><a href="#复数" class="headerlink" title="复数"></a>复数</h1><p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">program test</span><br><span class="line">COMPLEX, dimension(2):: a</span><br><span class="line">real x</span><br><span class="line"></span><br><span class="line">a(1)=CMPLX(1.0,2.0)</span><br><span class="line">x=aimag(a(1))</span><br><span class="line">print*, x</span><br><span class="line">read *,</span><br><span class="line">end program test</span><br></pre></td></tr></table></figure>
<h1 id="一些已经不再使用的内容"><a href="#一些已经不再使用的内容" class="headerlink" title="一些已经不再使用的内容"></a>一些已经不再使用的内容</h1><h2 id="equivalence-等价"><a href="#equivalence-等价" class="headerlink" title="equivalence 等价"></a>equivalence 等价</h2><p>示例：</p>
<pre><code>equivalence (nn,abuf)
</code></pre>
<p>nn和abuf等价，即二者完全相同，改变任何一方都会改变另一方。在定义变量时写入。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Fortran/" rel="tag"># Fortran</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2023/01/03/CMT-ndk%E4%B8%8E%E8%A1%8D%E7%94%9F%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F/" rel="next" title="CMT .ndk与衍生数据格式">
                <i class="fa fa-chevron-left"></i> CMT .ndk与衍生数据格式
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2023/01/26/%E5%9C%B0%E9%9C%87%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95%E5%AE%9E%E8%AE%AD/" rel="prev" title="地震数据处理方法实训">
                地震数据处理方法实训 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/log.png"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/">
              
                  <span class="site-state-item-count">65</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">35</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ZhiyuanShi1901" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:Shizhiyuan2001@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/ShiZhiyuan_Seis" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://youtube.com/@user-bu6jx5vo6b" target="_blank" title="YouTube">
                      
                        <i class="fa fa-fw fa-youtube"></i>YouTube</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://instagram.com/@dshi78066" target="_blank" title="Instagram">
                      
                        <i class="fa fa-fw fa-instagram"></i>Instagram</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/shi-zhi-yuan-84" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-zhihu"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.researchgate.net/profile/Zhiyuan-Shi-11" target="_blank" title="ResearchGate">
                      
                        <i class="fa fa-fw fa-ResearchGate"></i>ResearchGate</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://space.bilibili.com/13800501" target="_blank" title="Bilibili">
                      
                        <i class="fa fa-fw fa-bilibili"></i>Bilibili</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">1.</span> <span class="nav-text">参考</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9"><span class="nav-number">2.</span> <span class="nav-text">基础内容</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Fortran%E8%A7%84%E5%88%99%EF%BC%9A"><span class="nav-number">2.1.</span> <span class="nav-text">Fortran规则：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E8%BE%93%E5%87%BA%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97"><span class="nav-number">2.2.</span> <span class="nav-text">1、输出你的名字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E8%AE%A1%E7%AE%97%E5%B9%B3%E5%9D%87%E5%80%BC"><span class="nav-number">2.3.</span> <span class="nav-text">2、计算平均值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%90%E7%AE%97"><span class="nav-number">3.</span> <span class="nav-text">运算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E5%B8%B8%E6%95%B0%E5%92%8C%E5%8F%98%E9%87%8F"><span class="nav-number">3.1.</span> <span class="nav-text">字符常数和变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E9%A1%BA%E5%BA%8F"><span class="nav-number">3.2.</span> <span class="nav-text">运算顺序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="nav-number">3.3.</span> <span class="nav-text">字符格式转换函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-number">3.4.</span> <span class="nav-text">内置函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E6%8E%A7%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA"><span class="nav-number">3.5.</span> <span class="nav-text">表控输入与输出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IMPLICIT-NONE%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.6.</span> <span class="nav-text">IMPLICIT NONE语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#debug"><span class="nav-number">3.7.</span> <span class="nav-text">debug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%AA%E6%96%AD"><span class="nav-number">3.8.</span> <span class="nav-text">截断</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PARAMETER-%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.9.</span> <span class="nav-text">PARAMETER 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98"><span class="nav-number">3.10.</span> <span class="nav-text">精度问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%8A%B6%E6%80%81"><span class="nav-number">3.11.</span> <span class="nav-text">变量状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">3.12.</span> <span class="nav-text">思考题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%A4%BA%E4%BE%8B4"><span class="nav-number">3.12.1.</span> <span class="nav-text">运行示例4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%91%86%E7%9A%84%E5%91%A8%E6%9C%9F"><span class="nav-number">3.12.2.</span> <span class="nav-text">计算摆的周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="nav-number">3.12.3.</span> <span class="nav-text">进制转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%87%8F%E6%B3%95"><span class="nav-number">3.12.4.</span> <span class="nav-text">简单减法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fortran%E4%B8%8B%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AD%89%E4%BB%B7%E5%8E%9F%E5%88%99"><span class="nav-number">3.12.5.</span> <span class="nav-text">fortran下的表达式等价原则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ch0804%E5%8F%98%E5%BD%A2"><span class="nav-number">3.12.6.</span> <span class="nav-text">ch0804变形</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">4.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DIMENSION-%E5%B1%9E%E6%80%A7"><span class="nav-number">4.1.</span> <span class="nav-text">DIMENSION 属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E6%95%B0%E7%BB%84%E4%B8%8B%E6%A0%87%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4"><span class="nav-number">4.2.</span> <span class="nav-text">改变数组下标取值范围</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E4%B8%8B%E6%A0%87%E8%B6%8A%E7%95%8C"><span class="nav-number">4.3.</span> <span class="nav-text">数组下标越界</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%91%BD%E5%90%8D%E5%B8%B8%E6%95%B0"><span class="nav-number">4.4.</span> <span class="nav-text">使用命名常数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B4%E4%B8%AA%E6%95%B0%E7%BB%84"><span class="nav-number">4.5.</span> <span class="nav-text">使用整个数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E9%83%A8%E5%88%86%E6%95%B0%E7%BB%84"><span class="nav-number">4.6.</span> <span class="nav-text">使用部分数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84"><span class="nav-number">4.7.</span> <span class="nav-text">可变数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-number">4.8.</span> <span class="nav-text">数组输入输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-number">4.8.1.</span> <span class="nav-text">数组元素输入输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-number">4.8.2.</span> <span class="nav-text">整个数组的输入输出</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#do%E5%BE%AA%E7%8E%AF"><span class="nav-number">4.9.</span> <span class="nav-text">do循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E6%95%B0%E7%BB%84%E5%A4%A7%E5%B0%8F"><span class="nav-number">4.10.</span> <span class="nav-text">使用参数设置数组大小</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA%E5%BD%A2%E5%BC%8F"><span class="nav-number">4.11.</span> <span class="nav-text">格式化输出形式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#format%E8%BE%93%E5%87%BA"><span class="nav-number">4.11.1.</span> <span class="nav-text">format输出</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-1"><span class="nav-number">4.12.</span> <span class="nav-text">思考题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E8%AE%A1%E7%AE%975%E4%B8%AA%E6%95%B0%E7%9A%84%E5%B9%B3%E5%9D%87%E5%80%BC"><span class="nav-number">4.12.1.</span> <span class="nav-text">2、计算5个数的平均值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1%E3%80%81%E6%94%B9%E5%86%99%E4%BD%93%E9%87%8D%E6%80%BB%E6%95%B0%EF%BC%8C%E8%AE%A1%E7%AE%97%E8%BA%AB%E9%AB%98%E6%80%BB%E6%95%B0%E5%92%8C%E5%B9%B3%E5%9D%87%E6%95%B0"><span class="nav-number">4.12.2.</span> <span class="nav-text">3-1、改写体重总数，计算身高总数和平均数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E8%AE%A1%E7%AE%97BIM%E5%80%BC"><span class="nav-number">4.12.3.</span> <span class="nav-text">3-2 计算BIM值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E8%AE%A1%E7%AE%97%E6%91%86%E7%9A%84%E5%91%A8%E6%9C%9F%EF%BC%88%E5%88%B6%E8%A1%A8%EF%BC%89"><span class="nav-number">4.12.4.</span> <span class="nav-text">6、计算摆的周期（制表）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="nav-number">5.</span> <span class="nav-text">分支结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#IF"><span class="nav-number">5.1.</span> <span class="nav-text">IF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SELECT-CASE%E7%BB%93%E6%9E%84"><span class="nav-number">5.2.</span> <span class="nav-text">SELECT CASE结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DEBUGE"><span class="nav-number">5.3.</span> <span class="nav-text">DEBUGE</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%AD%97%E7%AC%A6%E6%93%8D%E4%BD%9C"><span class="nav-number">6.</span> <span class="nav-text">循环与字符操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#do%E5%BE%AA%E7%8E%AF-1"><span class="nav-number">6.1.</span> <span class="nav-text">do循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#do-while%E5%BE%AA%E7%8E%AF"><span class="nav-number">6.2.</span> <span class="nav-text">do while循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E8%AE%A1%E6%95%B0%E5%BE%AA%E7%8E%AF"><span class="nav-number">6.3.</span> <span class="nav-text">迭代计数循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CYCLE%E8%AF%AD%E5%8F%A5%E4%B8%8EEXIT%E8%AF%AD%E5%8F%A5"><span class="nav-number">6.4.</span> <span class="nav-text">CYCLE语句与EXIT语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CYCLE"><span class="nav-number">6.4.1.</span> <span class="nav-text">CYCLE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EXIT"><span class="nav-number">6.4.2.</span> <span class="nav-text">EXIT</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%93%8D%E4%BD%9C"><span class="nav-number">6.5.</span> <span class="nav-text">字符操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%90%E4%B8%B2%E6%8F%90%E5%8F%96"><span class="nav-number">6.5.1.</span> <span class="nav-text">子串提取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">6.5.2.</span> <span class="nav-text">连接操作符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%AD%97%E7%AC%A6%E5%87%BD%E6%95%B0"><span class="nav-number">6.5.3.</span> <span class="nav-text">内置字符函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#I-O%E5%86%85%E5%AE%B9"><span class="nav-number">7.</span> <span class="nav-text">I&#x2F;O内容</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%92%8C%E6%A0%BC%E5%BC%8F%E5%8C%96WRITE"><span class="nav-number">7.1.</span> <span class="nav-text">格式和格式化WRITE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.</span> <span class="nav-text">格式描述符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B4%E6%95%B0%E8%BE%93%E5%87%BA%EF%BC%9AI%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.1.</span> <span class="nav-text">整数输出：I描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%95%B0%E8%BE%93%E5%87%BA%EF%BC%9AF%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.2.</span> <span class="nav-text">实数输出：F描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%95%B0%E8%BE%93%E5%87%BA%EF%BC%9AE%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.3.</span> <span class="nav-text">实数输出：E描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A7%91%E5%AD%A6%E8%AE%A1%E6%95%B0%E6%B3%95%EF%BC%9AES%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.4.</span> <span class="nav-text">科学计数法：ES描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BE%93%E5%87%BA%EF%BC%9AL%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.5.</span> <span class="nav-text">逻辑输出：L描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%EF%BC%9AA%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.6.</span> <span class="nav-text">字符输出：A描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B0%B4%E5%B9%B3%E5%AE%9A%E4%BD%8D%EF%BC%9AX-T%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.7.</span> <span class="nav-text">水平定位：X T描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E6%8F%8F%E8%BF%B0%E7%AC%A6%E9%87%8D%E5%A4%8D%E4%BD%BF%E7%94%A8"><span class="nav-number">7.2.8.</span> <span class="nav-text">格式描述符重复使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E8%BE%93%E5%87%BA%E8%A1%8C%EF%BC%9A-%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.2.9.</span> <span class="nav-text">改变输出行：&#x2F;描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E4%BD%BF%E7%94%A8"><span class="nav-number">7.2.10.</span> <span class="nav-text">格式使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96READ%E8%AF%AD%E5%8F%A5"><span class="nav-number">7.3.</span> <span class="nav-text">格式化READ语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B4%E6%95%B0%E8%BE%93%E5%85%A5%EF%BC%9AI%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.3.1.</span> <span class="nav-text">整数输入：I描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%95%B0%E8%BE%93%E5%85%A5%EF%BC%9AF%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.3.2.</span> <span class="nav-text">实数输入：F描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BE%93%E5%85%A5%EF%BC%9AL%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.3.3.</span> <span class="nav-text">逻辑输入：L描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%EF%BC%9AA%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.3.4.</span> <span class="nav-text">字符输入：A描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B0%B4%E5%B9%B3%E5%AE%9A%E4%BD%8D%EF%BC%9AX%E5%92%8CT%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.3.5.</span> <span class="nav-text">水平定位：X和T描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9E%82%E7%9B%B4%E5%AE%9A%E4%BD%8D%EF%BC%9A-%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="nav-number">7.3.6.</span> <span class="nav-text">垂直定位：&#x2F;描述符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%8F%8A%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="nav-number">7.4.</span> <span class="nav-text">文件及文件处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OPEN"><span class="nav-number">7.4.1.</span> <span class="nav-text">OPEN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CLOSE"><span class="nav-number">7.4.2.</span> <span class="nav-text">CLOSE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="nav-number">7.4.3.</span> <span class="nav-text">磁盘文件读写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%AE%9A%E4%BD%8D"><span class="nav-number">7.4.4.</span> <span class="nav-text">文件定位</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BACKSPACE"><span class="nav-number">7.4.4.1.</span> <span class="nav-text">BACKSPACE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REWIND"><span class="nav-number">7.4.4.2.</span> <span class="nav-text">REWIND</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%87%E7%A8%8B"><span class="nav-number">8.</span> <span class="nav-text">过程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E4%BE%8B%E7%A8%8B"><span class="nav-number">8.1.</span> <span class="nav-text">子例程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#INTENT%E5%B1%9E%E6%80%A7%EF%BC%9A"><span class="nav-number">8.1.1.</span> <span class="nav-text">INTENT属性：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E9%80%92%E6%95%B0%E7%BB%84"><span class="nav-number">8.1.2.</span> <span class="nav-text">传递数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E9%80%92%E5%AD%97%E7%AC%A6%E5%8F%98%E9%87%8F"><span class="nav-number">8.1.3.</span> <span class="nav-text">传递字符变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E9%97%AE%E9%A2%98"><span class="nav-number">8.1.4.</span> <span class="nav-text">小问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="nav-number">8.2.</span> <span class="nav-text">模块共享数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E8%BF%87%E7%A8%8B"><span class="nav-number">8.3.</span> <span class="nav-text">模块过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FORTRAN%E5%87%BD%E6%95%B0"><span class="nav-number">8.4.</span> <span class="nav-text">FORTRAN函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%87%E7%A8%8B%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E7%BB%99%E5%85%B6%E5%AE%83%E8%BF%87%E7%A8%8B"><span class="nav-number">8.5.</span> <span class="nav-text">过程作为参数传递给其它过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="nav-number">8.5.1.</span> <span class="nav-text">用户定义函数作为参数传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%90%E4%BE%8B%E7%A8%8B%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="nav-number">8.5.2.</span> <span class="nav-text">子例程作为参数传递</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%83%A8%E5%88%86%E5%86%85%E7%BD%AE%E5%AD%90%E8%BF%9B%E7%A8%8B"><span class="nav-number">9.</span> <span class="nav-text">部分内置子进程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#EXP-%E6%B1%82%E6%8C%87%E6%95%B0"><span class="nav-number">9.1.</span> <span class="nav-text">EXP() 求指数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%8D%E6%95%B0"><span class="nav-number">10.</span> <span class="nav-text">复数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%B7%B2%E7%BB%8F%E4%B8%8D%E5%86%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E5%86%85%E5%AE%B9"><span class="nav-number">11.</span> <span class="nav-text">一些已经不再使用的内容</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#equivalence-%E7%AD%89%E4%BB%B7"><span class="nav-number">11.1.</span> <span class="nav-text">equivalence 等价</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2022 &mdash; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shi Zhiyuan</span>

  

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.0.0</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.0.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.0.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.0"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=6.0.0"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=6.0.0"></script>


  

</body>
</html>
